webpackJsonp([1],{"01oF":function(t,e){},"4TcZ":function(t,e){},"7pux":function(t,e){},Koy9:function(t,e){},NHVI:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("zL8q"),s=n.n(a),o=(n("tvR6"),n("7+uW")),l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},l,!1,function(t){n("tI57")},null,null).exports,r=n("XLwt"),u=n("/ocq"),c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},c,!1,function(t){n("Koy9")},"data-v-d8ec41bc",null).exports;var _={name:"TestSuitAdd",data:function(){return{input:"",suit_lst:[],suit_add:{suit_name:""}}},mounted:function(){this.ShowSuit()},methods:{ShowSuit:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_suit").then(function(e){console.log(e.data),t.suit_lst=e.data.data,console.log(t.suit_lst)}).catch(function(t){console.log(t)})},onSubmit:function(){var t=this;console.log(this.suit_add),this.$http.post(this.GLOBAL.BASE_URL+"save_suit/",this.suit_add).then(function(e){t.$notify({title:"提示",message:e.data.msg,type:"info"})}).catch(function(t){console.log(t)})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.suit_add}},[n("el-form-item",{attrs:{label:"输入业务名称"}},[n("el-input",{attrs:{placeholder:"输入业务名称"},model:{value:t.suit_add.suit_name,callback:function(e){t.$set(t.suit_add,"suit_name",e)},expression:"suit_add.suit_name"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加业务")])],1)],1),t._v(" "),n("el-row",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.suit_lst,border:""}},[n("el-table-column",{attrs:{prop:"s_id",label:"业务id","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.s_id)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"业务名称","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.s_name)+" ")]}}])})],1)],1)],1)},staticRenderFns:[]};var h=n("VU/8")(_,d,!1,function(t){n("7pux")},"data-v-3e269810",null).exports,p={name:"Header",data:function(){return{input:"",header_lst:[],head_add:{header_name:"",header_value:""}}},mounted:function(){this.ShowSuit()},methods:{ShowSuit:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_header/").then(function(e){console.log(e.data),t.header_lst=e.data.data,console.log(t.header_lst)}).catch(function(t){console.log(t)})},onSubmit:function(){var t=this;console.log(this.head_add),this.$http.post(this.GLOBAL.BASE_URL+"save_header/",this.head_add).then(function(e){t.$notify({title:"提示",message:e.data.msg,type:"info"})}).catch(function(t){console.log(t)})}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.head_add}},[n("el-form-item",{attrs:{label:"添加header"}},[n("el-input",{attrs:{placeholder:"输入header名称"},model:{value:t.head_add.header_name,callback:function(e){t.$set(t.head_add,"header_name",e)},expression:"head_add.header_name"}}),t._v(" "),n("el-input",{attrs:{type:"textarea",placeholder:"输入header值"},model:{value:t.head_add.header_value,callback:function(e){t.$set(t.head_add,"header_value",e)},expression:"head_add.header_value"}}),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加业务")])],1)],1),t._v(" "),n("el-row",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.header_lst,border:""}},[n("el-table-column",{attrs:{prop:"s_id",label:"header_id","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.h_id)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"header_name","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.h_name)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"header_value","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.h_v)+" ")]}}])})],1)],1)],1)},staticRenderFns:[]};var f=n("VU/8")(p,m,!1,function(t){n("NHVI")},"data-v-6d66197b",null).exports,v={name:"Test",data:function(){return{input:"",test_lst:[],msg:"",suit:{s_id:"",s_name:""},t_method:[{lable:"GET",value:0},{lable:"POST",value:1}],t_match_type:[{lable:"包含",value:0},{lable:"相等",value:1}],t_h:{h_id:"",h_name:"",h_v:""},test_add:{suit_id:"",i_name:"",i_url:"",i_header:"",i_method:"",i_json:"",i_data:"",i_source_address:"",i_expected:"",i_match_type:"",i_replace:""},rules:{suit_id:[{required:!0,message:"请选择业务类型",trigger:"change"}],i_url:[{required:!0,message:"请输入用例Url",trigger:"blur"}],i_method:[{required:!0,message:"请选择请求方式",trigger:"change"}],i_header:[{required:!0,message:"请选择header信息",trigger:"change"}],i_expected:[{required:!0,message:"请输入预期结果",trigger:"blur"}],i_match_type:[{required:!0,message:"请选择匹配方式",trigger:"change"}]}}},mounted:function(){this.ShowSuit(),this.InitSelect(),this.InitHeader()},methods:{ShowSuit:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_test/").then(function(e){console.log(e.data),t.test_lst=e.data.data,console.log(t.test_lst)}).catch(function(e){t.$notify({title:"提示",message:"请求异常",type:"error"})})},clearLineBreak:function(t){var e=t.target.value;console.log(e),e=(e=e.replace(/\r\n/g,"")).replace(/\n/g,""),console.log(e),t.target.value=e},TestNew:function(){var t=this,e=!0;this.msg="",this.$refs.form.validate(function(n){if(!n)return e=!1,t.$notify({title:"提示",message:"有信息为空",type:"error"}),!1}),e&&this.$http.post(this.GLOBAL.BASE_URL+"test_test/",this.test_add).then(function(e){0==e.data.retcode&&(t.$notify({title:"提示",message:"测试正常",type:"success"}),t.msg=e.data.msg),-1==e.data.retcode&&(t.$notify({title:"提示",message:"返回异常",type:"error"}),t.msg=e.data.msg)}).catch(function(e){t.$notify({title:"提示",message:"请求异常",type:"error"})})},onSubmit:function(){var t=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1}),this.$http.post(this.GLOBAL.BASE_URL+"save_test/",this.test_add).then(function(e){t.$notify({title:"提示",message:e.data.msg,type:"info"})}).catch(function(e){t.$notify({title:"提示",message:"请求异常",type:"error"})})},InitSelect:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_suit/",this.suit_add).then(function(e){t.suit=e.data.data}).catch(function(e){t.$notify({title:"提示",message:"请求异常",type:"error"})})},InitHeader:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_header/",this.suit_add).then(function(e){t.t_h=e.data.data}).catch(function(e){t.$notify({title:"提示",message:"请求异常",type:"error"})})}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tableMain"},[n("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:t.test_add,"label-position":"left",rules:t.rules,size:"small"}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"业务","label-width":"100px"}},[n("el-select",{attrs:{placeholder:"请先选择业务"},model:{value:t.test_add.suit_id,callback:function(e){t.$set(t.test_add,"suit_id",e)},expression:"test_add.suit_id"}},t._l(t.suit,function(t){return n("el-option",{key:t.s_id,attrs:{label:t.s_name,value:t.s_id}})}),1)],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"用例描述","label-width":"100px"}},[n("el-input",{attrs:{placeholder:"输入用例描述"},model:{value:t.test_add.i_name,callback:function(e){t.$set(t.test_add,"i_name",e)},expression:"test_add.i_name"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"Url","label-width":"100px",prop:"i_url"}},[n("el-input",{attrs:{placeholder:"输入用例Url"},model:{value:t.test_add.i_url,callback:function(e){t.$set(t.test_add,"i_url",e)},expression:"test_add.i_url"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"请求方式","label-width":"100px",prop:"i_method"}},[n("el-select",{attrs:{placeholder:"请求方式"},model:{value:t.test_add.i_method,callback:function(e){t.$set(t.test_add,"i_method",e)},expression:"test_add.i_method"}},t._l(t.t_method,function(t){return n("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})}),1)],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"header选择","label-width":"100px",prop:"i_header"}},[n("el-select",{attrs:{placeholder:"头部选择"},model:{value:t.test_add.i_header,callback:function(e){t.$set(t.test_add,"i_header",e)},expression:"test_add.i_header"}},t._l(t.t_h,function(t){return n("el-option",{key:t.h_id,attrs:{label:t.h_name,value:t.h_id}})}),1)],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"post_json","label-width":"100px"}},[n("el-input",{attrs:{type:"textarea",placeholder:"填写json，如果有"},nativeOn:{change:function(e){return t.clearLineBreak(e)}},model:{value:t.test_add.i_json,callback:function(e){t.$set(t.test_add,"i_json",e)},expression:"test_add.i_json"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"post_data","label-width":"100px"}},[n("el-input",{attrs:{type:"textarea",placeholder:"填写data，如果有"},nativeOn:{change:function(e){return t.clearLineBreak(e)}},model:{value:t.test_add.i_data,callback:function(e){t.$set(t.test_add,"i_data",e)},expression:"test_add.i_data"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"源地址","label-width":"100px"}},[n("el-input",{attrs:{type:"textarea",placeholder:"接口出处"},nativeOn:{change:function(e){return t.clearLineBreak(e)}},model:{value:t.test_add.i_source_address,callback:function(e){t.$set(t.test_add,"i_source_address",e)},expression:"test_add.i_source_address"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"预期结果","label-width":"100px",prop:"i_expected"}},[n("el-input",{attrs:{type:"textarea",placeholder:"预期结果"},nativeOn:{change:function(e){return t.clearLineBreak(e)}},model:{value:t.test_add.i_expected,callback:function(e){t.$set(t.test_add,"i_expected",e)},expression:"test_add.i_expected"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"替换字符串","label-width":"100px"}},[n("el-input",{attrs:{type:"textarea",placeholder:"替换的字符串"},nativeOn:{change:function(e){return t.clearLineBreak(e)}},model:{value:t.test_add.i_replace,callback:function(e){t.$set(t.test_add,"i_replace",e)},expression:"test_add.i_replace"}})],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"匹配方式","label-width":"100px",prop:"i_match_type"}},[n("el-select",{attrs:{placeholder:"结果匹配方式"},model:{value:t.test_add.i_match_type,callback:function(e){t.$set(t.test_add,"i_match_type",e)},expression:"test_add.i_match_type"}},t._l(t.t_match_type,function(t){return n("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})}),1)],1)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:3}},[n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加测试用例")])],1)],1),t._v(" "),n("el-col",{attrs:{span:3}},[n("el-form-item",[n("el-button",{attrs:{type:"success"},on:{click:t.TestNew}},[t._v("测试运行")])],1)],1)],1),t._v(" "),n("el-form-item",[n("el-input",{attrs:{type:"textarea",placeholder:"测试运行结果输出",rows:"4"},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}})],1)],1)],1)},staticRenderFns:[]};var b=n("VU/8")(v,g,!1,function(t){n("qOwV")},null,null).exports,y={name:"TestSuitManager",data:function(){return{input:"",test_lst:[],currentPage:1,totalCount:1,pageRange:[20,40],PageSize:20,run_name:"",choose_run_id:"",choose_is_send_phone:"",run_id:"",choose_lst:[],suit:{s_id:"",s_name:""},choose_suit:"",t_method:[{lable:"GET",value:1},{lable:"POST",value:2}],t_is_send_phone:[{lable:"是",value:1},{lable:"否",value:0}],t_match_type:[{lable:"包含",value:1},{lable:"相等",value:2}],t_h:{h_id:"",h_name:"",h_v:""},test_add:{t_id:"",suit_id:"",i_name:"",i_url:"",i_header:"",i_method:"",i_json:"",i_data:"",i_source_address:"",i_expected:"",i_match_type:"",i_replace:""},multipleSelection:[],selected_id_lst:[]}},mounted:function(){this.InitSelect(),this.InitSuitSelect()},methods:{InitSelect:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_test/?currentPage="+this.currentPage+"&PageSize="+this.PageSize).then(function(e){0==e.data.retcode&&(t.$notify({title:"提示",message:"拉取数据成功",type:"success"}),t.test_lst=e.data.data,t.totalCount=e.data.total),-1==e.data.retcode&&t.$notify({title:"提示",message:e.data.msg,type:"error"})}).catch(function(t){console.log(t)})},rowKey:function(t){return console.log("?? id"+t.id),t.id},add_run:function(){var t=this;""!==this.run_name?void 0==this.selected_id_lst||this.selected_id_lst.length<=0?this.$notify({title:"提示",message:"勾选为空，无法提交",type:"error"}):this.$http.post(this.GLOBAL.BASE_URL+"add_run/",{test_ids:this.selected_id_lst,run_name:this.run_name}).then(function(e){console.log(e.data),t.$notify({title:"成功",message:e.data.msg,type:"success"})}).catch(function(t){console.log(t)}):this.$notify({title:"提示",message:"请选输入运行集名称",type:"error"})},run_run:function(){var t=this;void 0!=this.choose_run_id&&""!=this.choose_run_id?this.$http.post(this.GLOBAL.BASE_URL+"run_result/",{run_id:this.choose_run_id}).then(function(e){console.log(e.data),t.$notify({title:"提示",message:e.data.msg,type:"info"}),t.updata_run_result()}).catch(function(t){console.log(t)}):this.$notify({title:"提示",message:"请先下拉选择运行集",type:"error"})},filterMethod:function(t,e){console.log(e)},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection);for(var e=[],n=0;n<this.multipleSelection.length;n++)e.push(this.multipleSelection[n].id);this.selected_id_lst=e,console.log(this.selected_id_lst)},handleSizeChange:function(t){this.PageSize=t,this.getData(t,1),this.currentPage=1},handleCurrentChange:function(t){this.currentPage=t,this.getData(this.PageSize,t*this.pageSize)},created:function(){this.getData(this.PageSize,this.currentPage)},getData:function(t,e){var n=this;this.$http.get(this.GLOBAL.BASE_URL+"get_test/?currentPage="+this.currentPage+"&PageSize="+this.PageSize+"&suit="+this.choose_suit+"&is_send_phone="+this.choose_is_send_phone).then(function(t){0==t.data.retcode&&(n.$notify({title:"提示",message:"拉取数据成功",type:"success"}),n.test_lst=t.data.data,n.totalCount=t.data.total),-1==t.data.retcode&&n.$notify({title:"提示",message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})},reset_pagination:function(){this.PageSize=20,this.totalCount=1,this.totalCount=1},InitSuitSelect:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_suit/",this.suit_add).then(function(e){t.suit=e.data.data}).catch(function(t){console.log(t)})},suit_change:function(t){var e=this;this.currentPage=1,this.$http.get(this.GLOBAL.BASE_URL+"get_test/?currentPage="+this.currentPage+"&PageSize="+this.PageSize+"&suit="+this.choose_suit+"&is_send_phone="+this.choose_is_send_phone).then(function(t){0==t.data.retcode&&(e.$notify({title:"提示",message:"拉取数据成功",type:"success"}),e.test_lst=t.data.data,e.totalCount=t.data.total),-1==t.data.retcode&&e.$notify({title:"提示",message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",[n("el-row",[n("el-col",{attrs:{span:8}},[t._v("\n        业务筛选\n        "),n("el-select",{attrs:{placeholder:"请先选择业务"},on:{change:t.suit_change},model:{value:t.choose_suit,callback:function(e){t.choose_suit=e},expression:"choose_suit"}},t._l(t.suit,function(t){return n("el-option",{key:t.s_id,attrs:{label:t.s_name,value:t.s_id}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[t._v("\n        是否包含留咨接口\n        "),n("el-select",{attrs:{placeholder:"是否包含留咨接口"},on:{change:t.suit_change},model:{value:t.choose_is_send_phone,callback:function(e){t.choose_is_send_phone=e},expression:"choose_is_send_phone"}},t._l(t.t_is_send_phone,function(t){return n("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})}),1)],1)],1)],1),t._v(" "),n("el-row",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.test_lst,border:"","row-key":t.rowKey},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55","reserve-selection":!0},model:{value:t.multipleSelection,callback:function(e){t.multipleSelection=e},expression:"multipleSelection"}}),t._v(" "),n("el-table-column",{attrs:{prop:"s_id",label:"用例id","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"用例名称","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_name))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_u",label:"Url","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_url))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_m",label:"Method","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_method))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_m",label:"PostData","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_data))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_m",label:"PostJson","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_json))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_e",label:"预期结果","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_expected))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_h",label:"header","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_header_name))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_mu",label:"替换字符串","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.replace_name))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_mm",label:"匹配规则","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_match_type))]}}])})],1)],1),t._v(" "),n("div",{staticClass:"tabListPage"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageRange,"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),n("el-row",{attrs:{gutter:10,align:"middle"}},[n("el-col",{attrs:{span:8}},[n("el-input",{attrs:{placeholder:"输入运行集名称"},model:{value:t.run_name,callback:function(e){t.run_name=e},expression:"run_name"}})],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_run()}}},[t._v("添加运行集")])],1)],1)],1)},staticRenderFns:[]};var S=n("VU/8")(y,w,!1,function(t){n("UfsO")},"data-v-ebfb06ce",null).exports,k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-aside",{staticClass:"aside"},[n("el-menu",{attrs:{"default-active":this.$route.path,router:!0}},t._l(t.navList,function(e,a){return n("el-menu-item",{key:a,attrs:{index:e.name}},[t._v("\n        "+t._s(e.navItem)+"\n      ")])}),1)],1),t._v(" "),n("el-main",[n("router-view")],1)],1)},staticRenderFns:[]};var L=n("VU/8")({name:"Home",data:function(){return{navList:[{name:"/test_list",navItem:"用例管理"},{name:"/test",navItem:"用例添加"},{name:"/test_suit",navItem:"用例集合添加"},{name:"/header",navItem:"头部添加"},{name:"/suit",navItem:"业务添加"},{name:"/test_suit_run",navItem:"执行运行集"},{name:"/timer",navItem:"添加定时器"}]}},methods:{}},k,!1,function(t){n("cvXB")},"data-v-52418378",null).exports,$={name:"TestSuitResult",components:{TestSuit:S},props:{select_current_value:0,required:!0},watch:{select_current_value:{immediate:!0,handler:function(){this.getting()}}},data:function(){return{run_id2:"4",test_result_lst:[]}},mounted:function(){},methods:{getting:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_test_result/",{run_id:this.select_current_value[0],run_counter:this.select_current_value[1]}).then(function(e){console.log(e.data),t.test_result_lst=e.data.data,console.log(t.test_result_lst)}).catch(function(t){console.log(t)})},green_padd_row:function(t){var e=t.row,n=(t.column,t.rowIndex,t.columnIndex);return!0===e.result_pass&&6===n?{background:"green",color:"white"}:!1===e.result_pass&&6===n?{background:"red"}:void 0}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-row",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.test_result_lst,border:"","cell-style":t.green_padd_row}},[n("el-table-column",{attrs:{prop:"suit_name",label:"业务名称","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.suit_name)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"case_name",label:"用例描述","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_name)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"case_method",label:"请求方式","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_method)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"case_url",label:"Url","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_url)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_match_type",label:"结果匹配方式","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_match_type)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_response",label:"response返回值","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_response)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_pass",label:"结果","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_pass)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"start_time",label:"开始时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.start_time)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"end_time",label:"结束时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.end_time)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"request_time",label:"响应时长","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.request_time)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_des",label:"错误描述","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_des)+" ")]}}])})],1)],1)],1)},staticRenderFns:[]},B={name:"TestSuitRun",components:{TestSuitResultTable:n("VU/8")($,x,!1,null,null,null).exports},data:function(){return{input:"",test_lst:[],isRescourceShow:0,run_name:"",choose_run_id:"",run_id:"",choose_lst:[],select_data:[],select_current_value:[],suit:{s_id:"",s_name:""},t_method:[{lable:"GET",value:1},{lable:"POST",value:2}],t_match_type:[{lable:"包含",value:1},{lable:"相等",value:2}],t_h:{h_id:"",h_name:"",h_v:""},test_add:{t_id:"",suit_id:"",i_name:"",i_url:"",i_header:"",i_method:"",i_json:"",i_data:"",i_source_address:"",i_expected:"",i_match_type:"",i_replace:""},multipleSelection:[],selected_id_lst:[]}},mounted:function(){this.InitRun(),this.InitSelect()},watch:{select_data:function(){++this.isRescourceShow}},methods:{InitSelect:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_run_select/").then(function(e){console.log(e.data),t.select_data=e.data.data,console.log(t.test_lst)}).catch(function(t){console.log(t)})},InitRun:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_run/").then(function(e){console.log(e.data),t.choose_lst=e.data.data,console.log(t.choose_lst)}).catch(function(t){console.log(t)})},handlechange:function(t){console.log("级联菜单"+t),this.select_current_value=t,this.updata_run_result()},binde_event:function(t){this.$emit("getting",this.run_id)},selectChanged:function(t){console.log("选择的value"+t),this.updata_run_result()},updata_run_result:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_run/",{run_id:this.select_current_value[0],run_counter:this.select_current_value[1]}).then(function(e){console.log(e.data),t.test_lst=e.data.data,console.log(t.test_lst)}).catch(function(t){console.log(t)})},add_run:function(){var t=this;""!==this.run_name?void 0==this.selected_id_lst||this.selected_id_lst.length<=0?this.$notify({title:"提示",message:"勾选为空，无法提交",type:"error"}):this.$http.post(this.GLOBAL.BASE_URL+"add_run/",{test_ids:this.selected_id_lst,run_name:this.run_name}).then(function(e){console.log(e.data),t.$notify({title:"成功",message:e.data.msg,type:"success"})}).catch(function(t){console.log(t)}):this.$notify({title:"提示",message:"请选输入运行集名称",type:"error"})},run_run:function(){var t=this;void 0!=this.choose_run_id&&""!=this.choose_run_id?this.$http.post(this.GLOBAL.BASE_URL+"run_result/",{run_id:this.choose_run_id}).then(function(e){console.log(e.data),t.$notify({title:"提示",message:e.data.msg,type:"info"}),t.updata_run_result()}).catch(function(t){console.log(t)}):this.$notify({title:"提示",message:"请先下拉选择运行集",type:"error"})},filterMethod:function(t,e){console.log(e)},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection);for(var e=[],n=0;n<this.multipleSelection.length;n++)e.push(this.multipleSelection[n].t_id);this.selected_id_lst=e,console.log(this.selected_id_lst)},jump_page:function(){if(this.select_current_value!=[]){console.log(this.select_current_value);var t=this.$router.resolve({path:"/test_report",name:"TestRport",query:{run_id:this.select_current_value[0],counter_id:this.select_current_value[1]}}).href;window.open(t,"_blank")}}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-row",[n("el-row",[t._v("\n      选择将要运行的集合\n      "),n("el-select",{attrs:{placeholder:"也可以手动筛选运行集",change:"selectChanged"},model:{value:t.choose_run_id,callback:function(e){t.choose_run_id=e},expression:"choose_run_id"}},t._l(t.choose_lst,function(t){return n("el-option",{key:t.r_id,attrs:{label:t.r_name,value:t.r_id}})}),1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.run_run()}}},[t._v("执行所选运行集")])],1)],1),t._v(" "),n("el-row",[t._v("\n    选择查看结果\n    "),n("el-cascader",{key:t.isRescourceShow,attrs:{options:t.select_data,placeholder:"请选择","show-all-levels":!1},on:{change:t.handlechange},model:{value:t.select_current_value,callback:function(e){t.select_current_value=e},expression:"select_current_value"}}),t._v(" "),n("el-button",{attrs:{type:"infor"},on:{click:function(e){return t.jump_page()}}},[t._v("查看此报告")])],1),t._v(" "),n("el-row",[n("TestSuitResultTable",{attrs:{select_current_value:t.select_current_value}})],1)],1)},staticRenderFns:[]};var R=n("VU/8")(B,A,!1,function(t){n("4TcZ")},"data-v-711634a1",null).exports,E={name:"TestList",data:function(){return{input:"",currentPage:1,totalCount:1,pageRange:[20,40],PageSize:20,test_lst:[],suit:{s_id:"",s_name:""},t_method:[{lable:"GET",value:0},{lable:"POST",value:1}],t_match_type:[{lable:"包含",value:0},{lable:"相等",value:1}],t_h:{h_id:"",h_name:"",h_v:""},test_search:{test_info:""},rules:{test_info:[{required:!0,message:"请输入内容",trigger:"blur"}]}}},mounted:function(){this.ShowSuit(),this.InitSelect(),this.InitHeader()},methods:{ShowSuit:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_test/?currentPage="+this.currentPage+"&PageSize="+this.PageSize).then(function(e){0==e.data.retcode&&(t.$notify({title:"提示",message:"拉取数据成功",type:"success"}),t.test_lst=e.data.data,t.totalCount=e.data.total),-1==e.data.retcode&&t.$notify({title:"提示",message:e.data.msg,type:"error"})}).catch(function(t){console.log(t)})},TestSearch:function(){var t=this,e=!0;this.test_lst=[],this.$refs.form.validate(function(n){if(!n)return e=!1,t.$notify({title:"提示",message:"有信息为空",type:"error"}),!1}),e&&this.$http.post(this.GLOBAL.BASE_URL+"get_test_info/",this.test_search).then(function(e){t.$notify({title:"提示",message:"查询成功",type:"info"}),t.reset_pagination(),t.test_lst=e.data.data,console.log(t.test_lst)}).catch(function(t){console.log(t)})},onSubmit:function(){var t=this;this.$refs.form.validate(function(t){if(!t)return console.log("error submit!!"),!1}),this.$http.post(this.GLOBAL.BASE_URL+"save_test/",this.test_search).then(function(e){t.$notify({title:"提示",message:e.data.msg,type:"info"})}).catch(function(t){console.log(t)})},InitSelect:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_suit/",this.suit_add).then(function(e){t.suit=e.data.data}).catch(function(t){console.log(t)})},InitHeader:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_header/",this.suit_add).then(function(e){t.t_h=e.data.data}).catch(function(t){console.log(t)})},editCase:function(t,e,n){console.log(1),t.isSet=!1},changeStatus:function(t){var e=this;console.log(t),this.$http.post(this.GLOBAL.BASE_URL+"update_test/",t).then(function(t){0==t.data.retcode&&(e.$notify({title:"提示",message:t.data.msg,type:"success"}),e.msg=t.data.msg),-1==t.data.retcode&&(e.$notify({title:"提示",message:t.data.msg,type:"error"}),e.msg=t.data.msg)}).catch(function(t){console.log(t)})},grey_case:function(t){var e=t.row;t.column,t.rowIndex,t.columnIndex;if(!1===e.is_able)return{background:"grey",color:"white"}},handleSizeChange:function(t){this.PageSize=t,this.getData(t,1),this.currentPage=1},handleCurrentChange:function(t){this.currentPage=t,this.getData(this.PageSize,t*this.pageSize)},created:function(){this.getData(this.PageSize,this.currentPage)},getData:function(t,e){var n=this;this.$http.get(this.GLOBAL.BASE_URL+"get_test/?currentPage="+this.currentPage+"&PageSize="+this.PageSize).then(function(t){0==t.data.retcode&&(n.$notify({title:"提示",message:"拉取数据成功",type:"success"}),n.test_lst=t.data.data,n.totalCount=t.data.total),-1==t.data.retcode&&n.$notify({title:"提示",message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})},reset_pagination:function(){this.PageSize=20,this.totalCount=1,this.totalCount=1}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tableMain"},[n("el-form",{ref:"form",attrs:{model:t.test_search,"label-position":"left",rules:t.rules}},[n("el-form-item",{attrs:{prop:"test_info"}},[n("el-input",{attrs:{placeholder:"输入用例名称或者test_id"},model:{value:t.test_search.test_info,callback:function(e){t.$set(t.test_search,"test_info",e)},expression:"test_search.test_info"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.TestSearch}},[t._v("查询")])],1)],1),t._v(" "),n("el-row",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.test_lst,"cell-style":t.grey_case},nativeOn:{"row-dbclick":function(e){return t.editCase(e)}}},[n("el-table-column",{attrs:{prop:"s_id",label:"用例id","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"是否可用","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{on:{change:function(n){return t.changeStatus(e.row)}},model:{value:e.row.is_able,callback:function(n){t.$set(e.row,"is_able",n)},expression:"scope.row.is_able"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"用例名称","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isSet?n("span",[n("el-input",{model:{value:e.row.case_name,callback:function(n){t.$set(e.row,"case_name",n)},expression:"scope.row.case_name"}})],1):n("span",[t._v(t._s(e.row.case_name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_u",label:"Url","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_url))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_m",label:"Method","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_method))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_m",label:"PostData","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_data))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_m",label:"PostJson","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_json))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_e",label:"预期结果","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_expected))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_h",label:"header","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_header_name))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_mu",label:"替换字符串","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.replace_name))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_mm",label:"匹配规则","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_match_type))]}}])})],1)],1),t._v(" "),n("div",{staticClass:"tabListPage"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":t.pageRange,"page-size":t.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.totalCount},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var C=n("VU/8")(E,U,!1,function(t){n("01oF")},null,null).exports,P={name:"TestSuitResultReport",data:function(){return{run_id2:"4",test_result_lst:[],run_id:0,counter_id:0,run_name:"",total:"",pass:"",fail:""}},mounted:function(){this.run_id=this.$route.query.run_id,this.counter_id=this.$route.query.counter_id,console.log("接受的参数"+this.run_id),console.log("接受的参数"+this.counter_id),this.drawLine()},methods:{getting:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_test_result/",{run_id:this.run_id,run_counter:this.counter_id}).then(function(e){console.log(e.data),t.test_result_lst=e.data.data,console.log(t.test_result_lst)}).catch(function(t){console.log(t)})},green_padd_row:function(t){var e=t.row,n=(t.column,t.rowIndex,t.columnIndex);return!0===e.result_pass&&6===n?{background:"green",color:"white"}:!1===e.result_pass&&6===n?{background:"red"}:e.request_time>3&&9===n?{background:"red",color:"white"}:e.request_time<3&&9===n?{background:"green",color:"white"}:void 0},drawLine:function(){var t=this;this.$http.post(this.GLOBAL.BASE_URL+"get_run_report/",{run_id:this.run_id,run_counter:this.counter_id}).then(function(e){t.chartColumn=r.b(document.getElementById("chartColumn")),t.run_name=e.data.run_name,t.total=e.data.toatal,t.pass=e.data.pass_count,t.fail=e.data.fail_count,t.chartColumn.setOption({title:{text:"测试报告"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {d}%"},type:"pie",radius:"55%",series:[{name:"测试报告结果",type:"pie",clockwise:"true",startAngle:"0",radius:"60%",center:["50%","50%"],color:["green","red","grey"],data:[{value:e.data.pass_count,name:"通过个数"+e.data.pass_count},{value:e.data.fail_count,name:"失败个数"+e.data.fail_count},{value:e.data.unkown_count,name:"未执行个数"+e.data.unkown_count}]}]}),t.test_result_lst=e.data.data}).catch(function(t){console.log(t)})}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("h3",[t._v("用例集--"+t._s(t.run_name)+", 第"+t._s(t.counter_id)+"次数运行结果")])]),t._v(" "),n("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartColumn"}}),t._v(" "),n("el-row",[t._v("\n     测试用例总数 "+t._s(t.total)+" , 通过 "+t._s(t.pass)+", 失败"+t._s(t.fail)+"\n  ")]),t._v(" "),n("el-row",[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.test_result_lst,border:"","cell-style":t.green_padd_row}},[n("el-table-column",{attrs:{prop:"suit_name",label:"业务名称","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.suit_name)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"case_name",label:"用例描述","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_name)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"case_method",label:"请求方式","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_method)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"case_url",label:"Url","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_url)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_match_type",label:"结果匹配方式","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_match_type)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"case_expected",label:"预期结果","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.case_expected)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_response",label:"response返回值","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_response)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_pass",label:"是否通过","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_pass)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"start_time",label:"开始时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.start_time)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"end_time",label:"结束时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.end_time)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"request_time",label:"响应时长","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.request_time)+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"result_des",label:"错误描述","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.result_des)+" ")]}}])})],1)],1)],1)},staticRenderFns:[]},T=n("VU/8")(P,O,!1,null,null,null).exports,I={name:"TestTimer",data:function(){return{choose_run_id:"",choose_run_name:"",interval_hour:3,select_data:[],choose_lst:[],timer_job_lst:[],bind_job_id:0}},mounted:function(){this.InitRun(),this.InitTimerLst()},methods:{InitRun:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_run/").then(function(e){console.log(e.data),t.choose_lst=e.data.data,console.log(t.choose_lst)}).catch(function(t){console.log(t)})},InitTimerLst:function(){var t=this;this.$http.get(this.GLOBAL.BASE_URL+"get_timer_jobs/").then(function(e){console.log(e.data),t.timer_job_lst=e.data.data,console.log(t.timer_job_lst)}).catch(function(t){console.log(t)})},add_timer:function(){var t=this;""!==this.choose_run_id?this.$http.post(this.GLOBAL.BASE_URL+"add_timer_job/",{run_id:this.choose_run_id,interval_hour:this.interval_hour,run_name:this.choose_run_name}).then(function(e){console.log(e.data),t.$notify({title:"成功",message:e.data.msg,type:"success"}),t.InitTimerLst()}).catch(function(t){console.log(t)}):this.$notify({title:"提示",message:"请选项运行集",type:"error"})},del_job:function(t){var e=this;console.log("删除"+t),this.$confirm("此操作将任务状态改为删除状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post(e.GLOBAL.BASE_URL+"del_timer_jobs/",{job_id:t}).then(function(t){console.log(t.data),e.$notify({title:"成功",message:t.data.msg,type:"success"}),e.InitTimerLst()}).catch(function(t){console.log(t)})}).catch(function(){})},selectChanged:function(t){var e;e=this.choose_lst.find(function(e){return e.r_id===t}),console.log("lable "+e.r_name),this.choose_run_name=e.r_name}}},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-row",[n("el-row",[n("el-col",{attrs:{span:6}},[t._v("\n        选择运行集\n        "),n("el-select",{attrs:{placeholder:"选择运行集"},on:{change:t.selectChanged},model:{value:t.choose_run_id,callback:function(e){t.choose_run_id=e},expression:"choose_run_id"}},t._l(t.choose_lst,function(t){return n("el-option",{key:t.r_id,attrs:{label:t.r_name,value:t.r_id}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:6}},[t._v("\n        选择定时间隔\n        "),n("el-input-number",{attrs:{type:"",placeholder:"选择定时间隔(h)"},model:{value:t.interval_hour,callback:function(e){t.interval_hour=e},expression:"interval_hour"}}),t._v("\n        /小时\n      ")],1),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.add_timer()}}},[t._v("添加定时器")])],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.timer_job_lst}},[n("el-table-column",{attrs:{prop:"s_id",label:"调用的运行集","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"绑定函数","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"定时函数传参","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.kwargs))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_name",label:"运行间隔interval","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.interval))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_u",label:"下次运行时间","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.next_run_time))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_u",label:"是否只运行一次","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.run_once))]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"s_u",label:"是否移除","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.del_job(e.row.id)}}},[t._v("删除定时器")])]}}])})],1)],1)},staticRenderFns:[]};var z=n("VU/8")(I,G,!1,function(t){n("cWFk")},"data-v-8e6d9e20",null).exports,j=u.a.prototype.push;u.a.prototype.push=function(t){return j.call(this,t).catch(function(t){return t})},o.default.use(u.a);var q=new u.a({routes:[{path:"/",name:"Home",component:L,children:[{path:"/test_list",name:"TestManager",component:C},{path:"/header",name:"Header",component:f},{path:"/test",name:"Test",component:b},{path:"/test_suit",name:"TestSuit",component:S},{path:"/suit",name:"TestSuitAdd",component:h},{path:"/test_suit_run",name:"TestSuitRun",component:R},{path:"/timer",name:"Timer",component:z}]},{path:"/test_report",name:"TestRport",component:T}]});var F={BASE_URL:"http://127.0.0.1:8001/"},V=n("mtWM"),D=n.n(V),H=n("DWlv"),M=n.n(H),W=n("mw3O"),N=n.n(W);o.default.prototype.GLOBAL=F,o.default.prototype.$qs=N.a,o.default.prototype.axios=D.a,o.default.use(M.a,D.a),o.default.config.productionTip=!1,o.default.use(s.a),o.default.config.productionTip=!1,o.default.prototype.$echarts=r.default,new o.default({el:"#app",router:q,components:{App:i},template:"<App/>"})},UfsO:function(t,e){},cWFk:function(t,e){},cvXB:function(t,e){},qOwV:function(t,e){},tI57:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.16915fb22f24c8417862.js.map